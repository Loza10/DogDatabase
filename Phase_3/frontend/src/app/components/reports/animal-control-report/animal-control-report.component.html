<div>
  <a [routerLink]="'/dog-dashboard'">
    <span class="material-icons">pets</span>
  </a>
  <p-dialog [modal]="true" [(visible)]="adopt_popup_visible" class="dialog">
    <div class="popup">
      <app-drill-adopt
        [drillAdoptReport]="this.drillAdoptReport"
        [monthYear]="this.monthYear"
      ></app-drill-adopt>
    </div>
  </p-dialog>

  <p-dialog [modal]="true" [(visible)]="expense_popup_visible" class="dialog">
    <div class="popup">
      <app-drill-expense
        [drillExpenseReport]="this.drillExpenseReport"
        [monthYear]="this.monthYear"
      ></app-drill-expense>
    </div>
  </p-dialog>

  <p-dialog [modal]="true" [(visible)]="surrender_popup_visible" class="dialog">
    <div class="popup">
      <app-drill-surrender
        [drillSurrenderReport]="this.drillSurrenderReport"
        [monthYear]="this.monthYear"
      ></app-drill-surrender>
    </div>
  </p-dialog>

  <div class="card">
    <div class="card-header">
      <h2>Animal Control Report</h2>
    </div>

    <div class="card-body">
      <p-table
        [value]="report"
        [paginator]="false"
        [rows]="7"
        [showCurrentPageReport]="true"
        [tableStyle]="{ 'min-width': '50rem' }"
        styleClass="p-datatable-striped"
      >
        <ng-template pTemplate="header">
          <tr>
            <th pSortableColumn="monthYear">Month</th>
            <th pSortableColumn="countSurrendered">
              Dogs Surrendered by Animal Control
            </th>
            <th pSortableColumn="countAdopted">
              Adopted Dogs in Rescue 60+ days
            </th>

            <th pSortableColumn="totalExpenses">
              Total Expenses for Adopted Dogs
            </th>
          </tr>
        </ng-template>

        <ng-template pTemplate="body" let-r>
          <tr>
            <td>{{ r.monthYear }}</td>
            <td class="drill" (click)="surrenderClick(r.monthYear)">
              {{ r.countSurrendered }}
            </td>
            <td class="drill" (click)="adoptClick(r.monthYear)">
              {{ r.countAdopted }}
            </td>
            <td class="drill" (click)="expenseClick(r.monthYear)">
              {{ r.totalExpenses | currency:'USD':'symbol'}}
            </td>
          </tr>
        </ng-template>

        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="7" class="text-center">No records found</td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</div>
